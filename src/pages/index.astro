---
import BaseLayout from "../layouts/BaseLayout.astro";
import { Image } from "astro:assets";

// text / links
const EMAIL = "yu.zhang@wyss.harvard.edu";
const LINKEDIN = "https://www.linkedin.com/in/yuzhang13/";
const SCHOLAR = "https://scholar.google.com/citations?user=IZ6qR4sAAAAJ&hl=en";
const GITHUB = "https://github.com/yuzhang-io";

const WYSS = "https://wyss.harvard.edu";
const MIT = "https://www.mit.edu";
const BROAD = "https://www.broadinstitute.org";

// ✅ Use ?url for the 4 small card icons (reliable on GH Pages + avoids astro:assets edge cases in arrays)
import researchIcon from "../assets/img/index/research.webp?url";
import softwareIcon from "../assets/img/index/software.webp?url";
import publicationsIcon from "../assets/img/index/publications.webp?url";
import hikingIcon from "../assets/img/index/hiking.webp?url";

// ✅ Keep astro:assets for larger images (portrait stays jpg; mols2img becomes webp)
import portraitImg from "../assets/img/portrait.jpg";
import mols2imgImg from "../assets/img/mols2img.webp";

const CARDS = [
  {
    href: "/research",
    title: "Research",
    tag: "ML",
    desc: "Safety-aware discovery, multitask learning, screening → validation.",
    icon: researchIcon,
  },
  {
    href: "/software",
    title: "Software",
    tag: "Tools",
    desc: "Open-source tools like mols2img and analysis pipelines.",
    icon: softwareIcon,
  },
  {
    href: "/publications",
    title: "Publications",
    tag: "Papers",
    desc: "Featured work + BibBase bibliography.",
    icon: publicationsIcon,
  },
  {
    href: "/hiking",
    title: "Hiking",
    tag: "Outside",
    desc: "Trails, trips, and peak lists.",
    icon: hikingIcon,
  },
];
---

<BaseLayout
  title="Yu Zhang — AI for Drug Discovery"
  description="Yu Zhang, Ph.D. — AI & deep learning for drug discovery."
>
  <section class="relative overflow-hidden rounded-3xl border border-zinc-200 shadow-sm dark:border-zinc-800">
    <div
      class="absolute inset-0"
      style="background: linear-gradient(135deg, rgb(6,147,227) 0%, rgb(14,11,11) 15%, rgb(15,7,7) 61%, rgb(155,81,224) 100%);"
    ></div>

    <div class="relative p-7 sm:p-9">
      <div class="grid gap-8 lg:grid-cols-[360px_1fr] lg:items-stretch">
        <!-- Portrait -->
        <div class="w-full">
          <div class="h-64 sm:h-80 lg:h-full rounded-2xl overflow-hidden ring-1 ring-white/25">
            <Image
              src={portraitImg}
              alt="Yu Zhang portrait"
              class="w-full h-full object-cover"
              loading="eager"
              decoding="async"
              quality={82}
              format="webp"
            />
          </div>
        </div>

        <div class="min-w-0 text-white">
          <h1 class="text-3xl sm:text-4xl font-semibold tracking-tight">Yu Zhang, Ph.D.</h1>

          <p class="mt-2 text-white/85">
            Postdoctoral Fellow @{" "}
            <a
              class="underline decoration-white/40 underline-offset-4 hover:decoration-white"
              href={WYSS}
              target="_blank"
              rel="noreferrer"
            >
              Wyss Institute
            </a>{" "}
            |{" "}
            <a
              class="underline decoration-white/40 underline-offset-4 hover:decoration-white"
              href={MIT}
              target="_blank"
              rel="noreferrer"
            >
              MIT
            </a>{" "}
            |{" "}
            <a
              class="underline decoration-white/40 underline-offset-4 hover:decoration-white"
              href={BROAD}
              target="_blank"
              rel="noreferrer"
            >
              Broad Institute
            </a>
          </p>

          <p class="mt-4 text-white/95">
            <span class="font-semibold">Focus:</span> AI &amp; Deep Learning for drug discovery
          </p>

          <p class="mt-2 text-sm text-white/80">
            Generative design · multitask toxicity modeling · antibiotic screening
          </p>

          <p class="mt-3 text-white/85">
            Email:{" "}
            <a class="underline decoration-white/40 underline-offset-4 hover:decoration-white" href={`mailto:${EMAIL}`}>
              {EMAIL}
            </a>
          </p>

          <div class="mt-5 flex flex-wrap gap-3">
            <a
              href={LINKEDIN}
              target="_blank"
              rel="noreferrer"
              class="rounded-xl bg-white/10 px-4 py-2 text-sm font-medium ring-1 ring-white/20 hover:bg-white/15"
            >
              LinkedIn
            </a>
            <a
              href={SCHOLAR}
              target="_blank"
              rel="noreferrer"
              class="rounded-xl bg-white/10 px-4 py-2 text-sm font-medium ring-1 ring-white/20 hover:bg-white/15"
            >
              Google Scholar
            </a>
            <a
              href={GITHUB}
              target="_blank"
              rel="noreferrer"
              class="rounded-xl bg-white/10 px-4 py-2 text-sm font-medium ring-1 ring-white/20 hover:bg-white/15"
            >
              GitHub
            </a>
            <a
              href="/Yu_Zhang_CV.pdf"
              class="rounded-xl bg-white px-4 py-2 text-sm font-semibold text-zinc-900 hover:bg-zinc-100"
            >
              Download CV
            </a>
          </div>

          <div class="mt-6 rounded-2xl bg-white/10 p-5 ring-1 ring-white/15">
            <h2 class="text-base font-semibold tracking-tight">About</h2>
            <p class="mt-2 text-sm leading-6 text-white/85">
              I work at the intersection of deep learning and antibiotic discovery, building practical ML systems that connect
              large-scale screening to safety-aware predictions and experimentally actionable hypotheses. My quantitative biology
              background (Ph.D., Johns Hopkins) informs how I design models that generalize and support real-world validation.
            </p>
          </div>

          <div class="mt-4">
            <a
              href="https://yuzhang-io.github.io/mols2img/"
              target="_blank"
              rel="noreferrer"
              class="inline-flex items-center gap-3 rounded-xl bg-white/10 px-3 py-2 ring-1 ring-white/15 hover:bg-white/15"
            >
              <Image
                src={mols2imgImg}
                alt="mols2img"
                class="h-8 w-8 rounded-lg bg-white/10 object-contain"
                loading="lazy"
                decoding="async"
                quality={82}
                format="webp"
              />
              <div class="leading-tight">
                <div class="text-sm font-semibold text-white">mols2img</div>
                <div class="text-xs text-white/80">Visualize utility</div>
              </div>
              <span class="ml-2 text-xs text-white/70">↗</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Cards below -->
  <section class="mt-10 grid gap-4 sm:grid-cols-2">
    {CARDS.map((c) => (
      <a
        href={c.href}
        class="rounded-2xl border border-zinc-200 bg-white p-5 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md dark:border-zinc-800 dark:bg-zinc-900/40"
      >
        <div class="flex items-start justify-between gap-3">
          <div class="flex items-start gap-4">
            <img
              src={c.icon}
              alt=""
              width="48"
              height="48"
              loading="lazy"
              decoding="async"
              class="h-12 w-12 rounded-xl object-contain bg-zinc-50 ring-1 ring-zinc-200 dark:bg-zinc-900/60 dark:ring-zinc-800"
            />

            <div class="min-w-0">
              <div class="font-semibold">{c.title}</div>
              <div class="mt-1 text-sm text-zinc-600 dark:text-zinc-300">{c.desc}</div>
            </div>
          </div>

          <span class="shrink-0 rounded-full border border-zinc-200 px-2 py-0.5 text-xs text-zinc-600 dark:border-zinc-800 dark:text-zinc-300">
            {c.tag}
          </span>
        </div>
      </a>
    ))}
  </section>
</BaseLayout>